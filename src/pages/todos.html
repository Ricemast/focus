<template>
    <div class="shelf">
        <h1 class="heading">
            <a href="#">Focus</a>
            <small class="subheading">
                ${subheading}
            </small>
        </h1>

        <span class="numcompleted">
            ${numcompleted} / ${todos.length}
        </span>
    </div>

    <ul id="js-todos" class="todos">
        <li repeat.for="todo of todos"
            class="todo${todo.complete ? ' -complete' : ''}"
            id="todo${todo.id}">

            <span class="priority">
                ${todo.priority}
            </span>

            <a class="focuslink"
               href="/#focus/${todo.id}">
                ${todo.text}
            </a>

            <input type="text"
                   value="${todo.text}"
                   placeholder="Update todo text"
                   class="todotextinput">

            <a class="edit"
               href="#">
                <i class="fa fa-pencil"></i>
            </a>

            <a class="toggleStatus"
               href="#"
               click.trigger="$parent.toggleComplete(todo.id)">
                <i class="fa ${todo.complete ? 'fa-check-square' : 'fa-square'}"></i>
            </a>


            <a class="delete"
               href="#"
               click.trigger="$parent.deleteTodo(todo.id)">
                <i class="fa fa-trash-o"></i>
            </a>
        </li>
    </ul>

    <div class="todolistfooter">
        <form submit.trigger="addTodo()"
              class="newtodoform">
            <input type="text"
                   value.bind="newTodoText"
                   placeholder="Add new todo"
                   class="newtodoinput">
        </form>
        <a class="resetlink"
           href="#"
           click.trigger="resetTodos()">
            Reset
        </a>
    </div>
</template>
